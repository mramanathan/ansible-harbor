---
  - name: Playbook to install Harbor on a system running Ubuntu 18.04
    hosts: localhost
    connection: local
    become: true
    become_method: sudo
    become_flags: -E
    user: ubuntu
    vars_prompt:
      - name: Supply credentials for Harbor's admin level access
        prompt: "harbor_admin_passwd"
        default: "Harbor12345"
        private: yes
        unsafe: yes
    vars:
      - docker_compose_version: 1.24.1
      - add_chartmuseum: true
    pre_tasks:
    post_tasks:
    roles:
      - role: 'base'
      - role: 'docker'
      - role: 'harbor'
        vars:
          docker_insecure_registry: /etc/docker
          harbor_instance: local